Select ItemID AS IteID ,item_part_no,Description,re_order_qty AS minimumStock,(select invoiced_date from deliverorder where  deliver_order_id=(select max(deliver_order_id) from deliverorder) ) AS lastPurchaseDate ,((select sum(quantity) from salesorderdetail where itemid=IteID and status=1)/(select  datediff(CURDATE(),(SELECT addeddate from item where ItemID=IteID))/30)) As movement,(select sum(quantity) AS issuedQty from salesorderdetail where status=1 and date>=(select invoiced_date from deliverorder where  deliver_order_id=(select max(deliver_order_id) from deliverorder) )  and itemId=IteID) AS issuedQty from item where status=1 and BrandID=1

//---------------------
Select ItemID AS IteID ,item_part_no,Description,re_order_qty AS minimumStock,(select invoiced_date from deliverorder where  deliver_order_id=(select max(deliver_order_id) from deliverorder) ) AS lastPurchaseDate ,((select sum(quantity) from salesorderdetail where itemid=IteID and status=1)/(select  datediff(CURDATE(),(SELECT addeddate from item where ItemID=IteID))/30)) As movement,(select sum(quantity) AS issuedQty from salesorderdetail where status=1 and date>=(select invoiced_date from deliverorder where  deliver_order_id=(select max(deliver_order_id) from deliverorder) )  and itemId=IteID) AS issuedQty from item where status=1 and BrandID=1
//-------------------------
Select ItemID AS IteID ,item_part_no,Description,re_order_qty AS minimumStock,(select invoiced_date from deliverorder where  deliver_order_id=(select max(deliver_order_id) from deliverorder) ) AS lastPurchaseDate ,((select sum(quantity) from salesorderdetail where itemid=IteID and status=1)/(select  datediff(CURDATE(),(SELECT addeddate from item where ItemID=IteID))/30)) As movement,(select sum(quantity) AS issuedQty from salesorderdetail where status=1 and date>=(select invoiced_date from deliverorder where  deliver_order_id=(select max(deliver_order_id) from deliverorder) )  and itemId=IteID) AS issuedQty,(select sum(qty) from deliverorderdetail where deliver_order_detail_id between (select min(deliver_order_detail_id) from deliverorderdetail where itemid=IteID) and  (select max(deliver_order_detail_id) from deliverorderdetail where itemid=IteID) ) AS demoIssued from item where status=1 and BrandID=1
